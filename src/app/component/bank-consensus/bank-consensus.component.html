<div class="container" *ngIf="LANGUAGE && LANGUAGE == 'vi' || LANGUAGE == 'en'">

    <!------------------------------------------ Title --------------------------------------->
    <div class="body-title row">
        <button class="btn btn-outline-primary back col-1" [routerLink]="['/banks','sending']"><i
                class="fas fa-arrow-left"></i>
        </button>
        <div class="body-title col-10">
            {{"Consensus of data using, collecting and providing" | translate}}
        </div>
    </div>
    <hr>
    <app-information></app-information>
    <hr>

    <!-------------------------------------------- Consent body ---------------------------------------->
    <div class="accordion" id="accordionExample" *ngIf="bankConsensus">
        <div class="card">
            <div class="card-header" id="headingOne">
                <div class="btn-group col-12">
                    <mat-checkbox [disabled]="!isReadConsentDataCollection" [checked]="isConsentCollectionChecked" (change)="consentCollectionCheck($event)"
                        color="primary">
                        <button class="btn consensus" type="button">{{"Consent of data collection" | translate}}
                        </button>
                    </mat-checkbox>
                    <button class="btn text-right" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne"
                            (click)="readConsentDataCollection(true)" ><i class="fas fa-caret-down"></i>
                    </button>
                </div>
            </div>

            <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                <div class="card-body" *ngIf="LANGUAGE == 'en'">
                    {{bankConsensus["TO_CHAR(COLLECTION)"]}}
                </div>
                <div class="card-body" *ngIf="LANGUAGE == 'vi'">
                    {{bankConsensus["TO_CHAR(COLLECTION_VI)"]}}
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" id="headingTwo">
                <div class="btn-group col-12">
                    <mat-checkbox color="primary" [disabled]="!isReadConsentDataUsing" [checked]="isConsentUsingChecked "
                        (change)="consentUsingCheck($event)">
                        <button class="btn consensus" type="button">{{"Consent of data using" | translate}}
                        </button>
                    </mat-checkbox>
                    
                    <button class="btn text-right" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseOne"
                              (click)="readConsentDataUsing(true)"><i class="fas fa-caret-down"></i>
                    </button>
                </div>
            </div>

            <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                <div class="card-body" *ngIf="LANGUAGE == 'en'">
                    {{bankConsensus["TO_CHAR(DATA_USING)"]}}
                </div>
                <div class="card-body" *ngIf="LANGUAGE == 'vi'">
                    {{bankConsensus["TO_CHAR(DATA_USING_VI)"]}}
                </div>
            </div>
        </div>
        <div class="card">
            <div class="card-header" id="headingThree">
                <div class="btn-group col-12">
                    <mat-checkbox  [disabled]="!isReadConsentDataproviding" color="primary"
                        [checked]="isConsentProvidingChecked" (change)="consentProvideCheck($event)">
                        <button class="btn consensus" type="button">{{"Consent of data providing" | translate}}
                        </button>
                    </mat-checkbox>
                        
                    <!-- <mat-button-toggle class="btn-text-right" value=true aria-label="Text align down" aria-expanded="false" [checked]="isReadConsentDataproviding" (change)="readConsentDataproviding($event)">
                        <mat-icon data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" >arrow_drop_down</mat-icon>
                    </mat-button-toggle> -->

                    <button class="btn text-right" type="button" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true" aria-controls="collapseOne"
                              (click)="readConsentDataproviding(true)"><i class="fas fa-caret-down"></i>
                    </button>
                
                </div>
            </div>
            <div id="collapseThree" class="collapse" aria-labelledby="headingThree"
                data-parent="#accordionExample">
                <div class="card-body" *ngIf="LANGUAGE == 'en'">
                    {{bankConsensus["TO_CHAR(PROVIDING)"]}}
                </div>
                <div class="card-body" *ngIf="LANGUAGE == 'vi'">
                    {{bankConsensus["TO_CHAR(PROVIDING_VI)"]}}
                </div>
            </div>
        </div>
    </div>
    <hr>

    <!----------------------------------------------------- Agreement with all the above ---------------------------------------->
    <div style="text-align: center" *ngIf="this.bankConsensus">
        <div class="form-check form-check-inline">
            <mat-checkbox [disabled]="!isAgreeAll" id="checkAllConsent" [checked]="isConsentCheckedAll" color="primary"
                (change)="agreeWith($event)"><i
                    style="margin-left: 10px">{{"I agree with all the above" | translate}}</i></mat-checkbox>
        </div>
    </div>
    <br>

    <!------------------------------------------------------- Button next ------------------------------------------------------>
    <div class="row">
        <div class="col-12 text-center" *ngIf="!onNext()">
            <button class="btn btn-primary btn-sm" [routerLink]="['/banks','sending']"><i
                    class="fas fa-caret-left"> </i> {{"Back" | translate}}</button>
        </div>
        <div class="col-6 text-right">
            <button *ngIf="onNext()" class="btn btn-primary btn-sm" [routerLink]="['/banks','sending']"><i
                    class="fas fa-caret-left"> </i> {{"Back" | translate}}</button>
        </div>
        <div class="col-6 text-left">
            <button *ngIf="onNext()" class="btn btn-primary btn-sm"
                [routerLink]="['/banks', 'login']">{{"Next" | translate}} <i class="fas fa-caret-right"></i></button>
        </div>
    </div>
</div>
